:_mod-docs-content-type: ASSEMBLY
[id="mtc-release-notes"]
= Migration Toolkit for Containers release notes
// The {product-title} attribute provides the context-sensitive name of the relevant OpenShift distribution, for example, "OpenShift Container Platform" or "OKD". The {product-version} attribute provides the product version relative to the distribution, for example "4.9".
// {product-title} and {product-version} are parsed when AsciiBinder queries the _distro_map.yml file in relation to the base branch of a pull request.
// See https://github.com/openshift/openshift-docs/blob/main/contributing_to_docs/doc_guidelines.adoc#product-name-and-version for more information on this topic.
// Other common attributes are defined in the following lines:
:data-uri:
:icons:
:experimental:
:toc: macro
:toc-title:
:imagesdir: images
:prewrap!:
:op-system-first: Red Hat Enterprise Linux CoreOS (RHCOS)
:op-system: RHCOS
:op-system-lowercase: rhcos
:op-system-base: RHEL
:op-system-base-full: Red Hat Enterprise Linux (RHEL)
:op-system-version: 8.x
:tsb-name: Template Service Broker
:kebab: image:kebab.png[title="Options menu"]
:rh-openstack-first: Red Hat OpenStack Platform (RHOSP)
:rh-openstack: RHOSP
:ai-full: Assisted Installer
:ai-version: 2.3
:cluster-manager-first: Red Hat OpenShift Cluster Manager
:cluster-manager: OpenShift Cluster Manager
:cluster-manager-url: link:https://console.redhat.com/openshift[OpenShift Cluster Manager Hybrid Cloud Console]
:cluster-manager-url-pull: link:https://console.redhat.com/openshift/install/pull-secret[pull secret from the Red Hat OpenShift Cluster Manager]
:insights-advisor-url: link:https://console.redhat.com/openshift/insights/advisor/[Insights Advisor]
:hybrid-console: Red Hat Hybrid Cloud Console
:hybrid-console-second: Hybrid Cloud Console
:oadp-first: OpenShift API for Data Protection (OADP)
:oadp-full: OpenShift API for Data Protection
:oc-first: pass:quotes[OpenShift CLI (`oc`)]
:product-registry: OpenShift image registry
:rh-storage-first: Red Hat OpenShift Data Foundation
:rh-storage: OpenShift Data Foundation
:rh-rhacm-first: Red Hat Advanced Cluster Management (RHACM)
:rh-rhacm: RHACM
:rh-rhacm-version: 2.8
:sandboxed-containers-first: OpenShift sandboxed containers
:sandboxed-containers-operator: OpenShift sandboxed containers Operator
:sandboxed-containers-version: 1.3
:sandboxed-containers-version-z: 1.3.3
:sandboxed-containers-legacy-version: 1.3.2
:cert-manager-operator: cert-manager Operator for Red Hat OpenShift
:secondary-scheduler-operator-full: Secondary Scheduler Operator for Red Hat OpenShift
:secondary-scheduler-operator: Secondary Scheduler Operator
// Backup and restore
:velero-domain: velero.io
:velero-version: 1.11
:launch: image:app-launcher.png[title="Application Launcher"]
:mtc-short: MTC
:mtc-full: Migration Toolkit for Containers
:mtc-version: 1.8
:mtc-version-z: 1.8.0
// builds (Valid only in 4.11 and later)
:builds-v2title: Builds for Red Hat OpenShift
:builds-v2shortname: OpenShift Builds v2
:builds-v1shortname: OpenShift Builds v1
//gitops
:gitops-title: Red Hat OpenShift GitOps
:gitops-shortname: GitOps
:gitops-ver: 1.1
:rh-app-icon: image:red-hat-applications-menu-icon.jpg[title="Red Hat applications"]
//pipelines
:pipelines-title: Red Hat OpenShift Pipelines
:pipelines-shortname: OpenShift Pipelines
:pipelines-ver: pipelines-1.12
:pipelines-version-number: 1.12
:tekton-chains: Tekton Chains
:tekton-hub: Tekton Hub
:artifact-hub: Artifact Hub
:pac: Pipelines as Code
//odo
:odo-title: odo
//OpenShift Kubernetes Engine
:oke: OpenShift Kubernetes Engine
//OpenShift Platform Plus
:opp: OpenShift Platform Plus
//openshift virtualization (cnv)
:VirtProductName: OpenShift Virtualization
:VirtVersion: 4.14
:KubeVirtVersion: v0.59.0
:HCOVersion: 4.14.0
:CNVNamespace: openshift-cnv
:CNVOperatorDisplayName: OpenShift Virtualization Operator
:CNVSubscriptionSpecSource: redhat-operators
:CNVSubscriptionSpecName: kubevirt-hyperconverged
:delete: image:delete.png[title="Delete"]
//distributed tracing
:DTProductName: Red Hat OpenShift distributed tracing platform
:DTShortName: distributed tracing platform
:DTProductVersion: 2.9
:JaegerName: Red Hat OpenShift distributed tracing platform (Jaeger)
:JaegerShortName: distributed tracing platform (Jaeger)
:JaegerVersion: 1.47.0
:OTELName: Red Hat OpenShift distributed tracing data collection
:OTELShortName: distributed tracing data collection
:OTELOperator: Red Hat OpenShift distributed tracing data collection Operator
:OTELVersion: 0.81.0
:TempoName: Red Hat OpenShift distributed tracing platform (Tempo)
:TempoShortName: distributed tracing platform (Tempo)
:TempoOperator: Tempo Operator
:TempoVersion: 2.1.1
//logging
:logging-title: logging subsystem for Red Hat OpenShift
:logging-title-uc: Logging subsystem for Red Hat OpenShift
:logging: logging subsystem
:logging-uc: Logging subsystem
//serverless
:ServerlessProductName: OpenShift Serverless
:ServerlessProductShortName: Serverless
:ServerlessOperatorName: OpenShift Serverless Operator
:FunctionsProductName: OpenShift Serverless Functions
//service mesh v2
:product-dedicated: Red Hat OpenShift Dedicated
:product-rosa: Red Hat OpenShift Service on AWS
:SMProductName: Red Hat OpenShift Service Mesh
:SMProductShortName: Service Mesh
:SMProductVersion: 2.4.4
:MaistraVersion: 2.4
//Service Mesh v1
:SMProductVersion1x: 1.1.18.2
//Windows containers
:productwinc: Red Hat OpenShift support for Windows Containers
// Red Hat Quay Container Security Operator
:rhq-cso: Red Hat Quay Container Security Operator
// Red Hat Quay
:quay: Red Hat Quay
:sno: single-node OpenShift
:sno-caps: Single-node OpenShift
//TALO and Redfish events Operators
:cgu-operator-first: Topology Aware Lifecycle Manager (TALM)
:cgu-operator-full: Topology Aware Lifecycle Manager
:cgu-operator: TALM
:redfish-operator: Bare Metal Event Relay
//Formerly known as CodeReady Containers and CodeReady Workspaces
:openshift-local-productname: Red Hat OpenShift Local
:openshift-dev-spaces-productname: Red Hat OpenShift Dev Spaces
// Factory-precaching-cli tool
:factory-prestaging-tool: factory-precaching-cli tool
:factory-prestaging-tool-caps: Factory-precaching-cli tool
:openshift-networking: Red Hat OpenShift Networking
// TODO - this probably needs to be different for OKD
//ifdef::openshift-origin[]
//:openshift-networking: OKD Networking
//endif::[]
// logical volume manager storage
:lvms-first: Logical volume manager storage (LVM Storage)
:lvms: LVM Storage
//Operator SDK version
:osdk_ver: 1.31.0
//Operator SDK version that shipped with the previous OCP 4.x release
:osdk_ver_n1: 1.28.0
//Next-gen (OCP 4.14+) Operator Lifecycle Manager, aka "v1"
:olmv1: OLM 1.0
:olmv1-first: Operator Lifecycle Manager (OLM) 1.0
:ztp-first: GitOps Zero Touch Provisioning (ZTP)
:ztp: GitOps ZTP
:3no: three-node OpenShift
:3no-caps: Three-node OpenShift
:run-once-operator: Run Once Duration Override Operator
// Web terminal
:web-terminal-op: Web Terminal Operator
:devworkspace-op: DevWorkspace Operator
:secrets-store-driver: Secrets Store CSI driver
:secrets-store-operator: Secrets Store CSI Driver Operator
//AWS STS
:sts-first: Security Token Service (STS)
:sts-full: Security Token Service
:sts-short: STS
//Cloud provider names
//AWS
:aws-first: Amazon Web Services (AWS)
:aws-full: Amazon Web Services
:aws-short: AWS
//GCP
:gcp-first: Google Cloud Platform (GCP)
:gcp-full: Google Cloud Platform
:gcp-short: GCP
//alibaba cloud
:alibaba: Alibaba Cloud
// IBM Cloud VPC
:ibmcloudVPCProductName: IBM Cloud VPC
:ibmcloudVPCRegProductName: IBM(R) Cloud VPC
// IBM Cloud
:ibm-cloud-bm: IBM Cloud Bare Metal (Classic)
:ibm-cloud-bm-reg: IBM Cloud(R) Bare Metal (Classic)
// IBM Power
:ibmpowerProductName: IBM Power
:ibmpowerRegProductName: IBM(R) Power
// IBM zSystems
:ibmzProductName: IBM Z
:ibmzRegProductName: IBM(R) Z
:linuxoneProductName: IBM(R) LinuxONE
//Azure
:azure-full: Microsoft Azure
:azure-short: Azure
//vSphere
:vmw-full: VMware vSphere
:vmw-short: vSphere
//Oracle
:oci-first: Oracle(R) Cloud Infrastructure
:oci: OCI
:ocvs-first: Oracle(R) Cloud VMware Solution (OCVS)
:ocvs: OCVS
// common attributes
:product-short-name: OpenShift Dedicated
:toc:
:toc-title:
:experimental:
:imagesdir: images
:OCP: OpenShift Container Platform
:ocp-version: 4.14
:op-system-first: Red Hat Enterprise Linux CoreOS (RHCOS)
:cluster-manager-first: Red Hat OpenShift Cluster Manager
:cluster-manager: OpenShift Cluster Manager
:cluster-manager-url: link:https://console.redhat.com/openshift[OpenShift Cluster Manager Hybrid Cloud Console]
:cluster-manager-url-pull: link:https://console.redhat.com/openshift/install/pull-secret[pull secret from the Red Hat OpenShift Cluster Manager]
:hybrid-console: Red Hat Hybrid Cloud Console
:hybrid-console-second: Hybrid Cloud Console
:AWS: Amazon Web Services (AWS)
:GCP: Google Cloud Platform (GCP)
:product-registry: OpenShift image registry
:kebab: image:kebab.png[title="Options menu"]
:rhq-short: Red Hat Quay
:SMProductName: Red Hat OpenShift Service Mesh
:pipelines-title: Red Hat OpenShift Pipelines
:logging-sd: Red Hat OpenShift Logging
:ServerlessProductName: OpenShift Serverless
:rh-openstack-first: Red Hat OpenStack Platform (RHOSP)
:rh-openstack: RHOSP
:rhoda: Red Hat OpenShift Database Access
:rhoda-short: RHODA
:rhods: Red Hat OpenShift Data Science
:osd: OpenShift Dedicated
//Formerly known as CodeReady Containers and CodeReady Workspaces
:openshift-local-productname: Red Hat OpenShift Local
:openshift-dev-spaces-productname: Red Hat OpenShift Dev Spaces
:hcp: hosted control planes
:hcp-title: ROSA with HCP
:hcp-title-first: {product-title} (ROSA) with {hcp} (HCP)
//ROSA CLI variables
:word: Testing this variable let's go www.google.com
:context: mtc-release-notes

toc::[]

The release notes for {mtc-full} ({mtc-short}) describe new features and enhancements, deprecated features, and known issues.

The {mtc-short} enables you to migrate application workloads between {product-title} clusters at the granularity of a namespace.

You can migrate from xref:../migrating_from_ocp_3_to_4/about-migrating-from-3-to-4.adoc[{product-title} 3 to {product-version}] and between {product-title} 4 clusters.

{mtc-short} provides a web console and an API, based on Kubernetes custom resources, to help you control the migration and minimize application downtime.

For information on the support policy for {mtc-short}, see link:https://access.redhat.com/support/policy/updates/openshift#app_migration[OpenShift Application and Cluster Migration Solutions], part of the _Red Hat {product-title} Life Cycle Policy_.

:leveloffset: +1

// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-8-1_{context}"]
= {mtc-full} 1.8.1 release notes

[id="resolved-issues-1-8-1_{context}"]
== Resolved issues

This release has the following major resolved issues:

.CVE-2023-39325: golang: net/http, x/net/http2: rapid stream resets can cause excessive work

A flaw was found in handling multiplexed streams in the HTTP/2 protocol, which is used by {mtc-full} ({mtc-short}). A client could repeatedly make a request for a new multiplex stream and immediately send an `RST_STREAM` frame to cancel it. This creates additional workload for the server in terms of setting up and dismantling streams, while avoiding any server-side limitations on the maximum number of active streams per connection, resulting in a denial of service due to server resource consumption. link:https://bugzilla.redhat.com/show_bug.cgi?id=2245079[(BZ#2245079)]

It is advised to update to {mtc-short} 1.8.1 or later, which resolve this issue.

For more details, see link:https://access.redhat.com/security/cve/cve-2023-39325[(CVE-2023-39325)] and link:https://access.redhat.com/security/cve/cve-2023-44487[(CVE-2023-44487)]



[id="known-issues-1-8-1_{context}"]
== Known issues

There are no major known issues in this release.

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-8_{context}"]
= {mtc-full} 1.8 release notes

[id="resolved-issues-1-8_{context}"]
== Resolved issues

This release has the following resolved issues:

.Indirect migration is stuck on backup stage

In previous releases, an indirect migration became stuck at the backup stage, due to `InvalidImageName` error.
(link:https://bugzilla.redhat.com/show_bug.cgi?id=2233097[*BZ#2233097*])

.PodVolumeRestore remain In Progress keeping the migration stuck at Stage Restore

In previous releases, on performing an indirect migration, the migration became stuck at the `Stage Restore` step, waiting for the `podvolumerestore` to be completed. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2233868[*BZ#2233868*])

.Migrated application unable to pull image from internal registry on target cluster

In previous releases, on migrating an application to the target cluster, the migrated application failed to pull the image from the internal image registry resulting in an `application failure`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2233103[*BZ#2233103*])

.Migration failing on Azure due to authorization issue

In previous releases, on an Azure cluster, when backing up to Azure storage, the migration failed at the `Backup` stage. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2238974[*BZ#2238974*])

[id="known-issues-1-8_{context}"]
== Known issues

This release has the following known issues:

.Old Restic pods are not getting removed on upgrading MTC 1.7.x -> 1.8.x

In this release, on upgrading the MTC Operator from 1.7.x to 1.8.x, the old Restic pods are not being removed. Therefore after the upgrade, both Restic and node-agent pods are visible in the namespace. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2236829[*BZ#2236829*])

.Migrated builder pod fails to push to image registry

In this release, on migrating an application including a `BuildConfig` from a source to target cluster, builder pod results in `error`, failing to push the image to the image registry. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2234781[*BZ#2234781*])

.[UI] CA bundle file field is not properly cleared

In this release, after enabling `Require SSL verification` and adding content to the CA bundle file for an MCG NooBaa bucket in MigStorage, the connection fails as expected. However, when reverting these changes by removing the CA bundle content and clearing `Require SSL verification`, the connection still fails. The issue is only resolved by deleting and re-adding the repository. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2240052[*BZ#2240052*])


[id="technical-changes-1-8_{context}"]
== Technical changes

This release has the following technical changes:

* Migration from {product-title} 3 to {product-title} 4 requires a legacy {mtc-full} ({mtc-short}) Operator and {mtc-short} 1.7.x.
* Migration from {mtc-short} 1.7.x to {mtc-short} 1.8.x is not supported.
* You must use {mtc-short} 1.7.x to migrate anything with a source of {product-title} 4.9 or earlier.
** {mtc-short} 1.7.x must be used on both source and destination.
* MTC 1.8.x only supports migrations from {product-title} 4.10 or later to {product-title} 4.10 or later. For migrations only involving cluster versions 4.10 and later, either 1.7.x or 1.8.x might be used. However, but it must be the same MTC 1.Y.z on both source and destination.
** Migration from source {mtc-short} 1.7.x to destination {mtc-short} 1.8.x is unsupported.
** Migration from source {mtc-short} 1.8.x to destination {mtc-short} 1.7.x is unsupported.
** Migration from source {mtc-short} 1.7.x to destination {mtc-short} 1.7.x is supported.
** Migration from source {mtc-short} 1.8.x to destination {mtc-short} 1.8.x is supported.
* MTC 1.8.x by default installs OADP 1.2.x.
* Upgrading from {mtc-short} 1.7.x to {mtc-short} 1.8.0, requires manually changing the OADP channel to 1.2. If this is not done, the upgrade of the Operator fails.




:leveloffset!:
:leveloffset: +1

// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-14_{context}"]
= {mtc-full} 1.7.14 release notes

[id="resolved-issues-1-7-14_{context}"]
== Resolved issues

This release has the following resolved issues:

.CVE-2023-39325 CVE-2023-44487: various flaws

A flaw was found in the handling of multiplexed streams in the HTTP/2 protocol, which is utilized by {mtc-full} ({mtc-short}). A client could repeatedly make a request for a new multiplex stream then immediately send an `RST_STREAM` frame to cancel those requests. This activity created additional workloads for the server in terms of setting up and dismantling streams, but avoided any server-side limitations on the maximum number of active streams per connection. As a result, a denial of service occurred due to server resource consumption.

* link:https://bugzilla.redhat.com/show_bug.cgi?id=2243564[(BZ#2243564)]
* link:https://bugzilla.redhat.com/show_bug.cgi?id=2244013[(BZ#2244013)]
* link:https://bugzilla.redhat.com/show_bug.cgi?id=2244014[(BZ#2244014)]
* link:https://bugzilla.redhat.com/show_bug.cgi?id=2244015[(BZ#2244015)]
* link:https://bugzilla.redhat.com/show_bug.cgi?id=2244016[(BZ#2244016)]
* link:https://bugzilla.redhat.com/show_bug.cgi?id=2244017[(BZ#2244017)]

To resolve this issue, upgrade to {mtc-short} 1.7.14.

For more details, see link:https://access.redhat.com/security/cve/cve-2023-44487[(CVE-2023-44487)] and link:https://access.redhat.com/security/cve/cve-2023-39325[(CVE-2023-39325)].

.CVE-2023-39318 CVE-2023-39319 CVE-2023-39321: various flaws

* link:https://access.redhat.com/security/cve/cve-2023-39318[(CVE-2023-39318)]: A flaw was discovered in Golang, utilized by {mtc-short}. The `html/template` package did not properly handle HTML-like `""` comment tokens, or the hashbang `"#!"` comment tokens, in `<script>` contexts. This flaw could cause the template parser to improperly interpret the contents of `<script>` contexts, causing actions to be improperly escaped.
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238062[(BZ#2238062)]  
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238088[(BZ#2238088)]
* link:https://access.redhat.com/security/cve/cve-2023-39319[(CVE-2023-39319)]: A flaw was discovered in Golang, utilized by {mtc-short}. The `html/template` package did not apply the proper rules for handling occurrences of `"<script"`, `"<!--"`, and `"</script"` within JavaScript literals in <script> contexts. This could cause the template parser to improperly consider script contexts to be terminated early, causing actions to be improperly escaped. 
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238062[(BZ#2238062)]  
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238088[(BZ#2238088)]
* link:https://access.redhat.com/security/cve/cve-2023-39321[(CVE-2023-39321)]: A flaw was discovered in Golang, utilized by {mtc-short}. Processing an incomplete post-handshake message for a QUIC connection could cause a panic.
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238062[(BZ#2238062)]  
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238088[(BZ#2238088)]
* link:https://access.redhat.com/security/cve/cve-2023-39322[(CVE-2023-3932)]: A flaw was discovered in Golang, utilized by {mtc-short}. Connections using the QUIC transport protocol did not set an upper bound on the amount of data buffered when reading post-handshake messages, allowing a malicious QUIC connection to cause unbounded memory growth. 
** link:https://bugzilla.redhat.com/show_bug.cgi?id=2238088[(BZ#2238088)]

To resolve these issues, upgrade to {mtc-short} 1.7.14.

For more details, see link:https://access.redhat.com/security/cve/cve-2023-39318[(CVE-2023-39318)], link:https://access.redhat.com/security/cve/cve-2023-39319[(CVE-2023-39319)], and link:https://access.redhat.com/security/cve/cve-2023-39321[(CVE-2023-39321)].

[id="known-issues-1-7-14_{context}"]
== Known issues

There are no major known issues in this release.

:leveloffset!:
:leveloffset: +1

// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-13_{context}"]
= {mtc-full} 1.7.13 release notes

[id="resolved-issues-1-7-13_{context}"]
== Resolved issues

There are no major resolved issues in this release.


[id="known-issues-1-7-13_{context}"]
== Known issues

There are no major known issues in this release.

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-12_{context}"]
= {mtc-full} 1.7.12 release notes

[id="resolved-issues-1-7-12_{context}"]
== Resolved issues

There are no major resolved issues in this release.


[id="known-issues-1-7-12_{context}"]
== Known issues

This release has the following known issues:

.Error code 504 is displayed on the Migration details page

On the *Migration details* page, at first, the `migration details` are displayed without any issues. However, after sometime, the details disappear, and a `504` error is returned. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2231106[*BZ#2231106*])

.Old restic pods are not removed when upgrading MTC 1.7.x to MTC 1.8

On upgrading the MTC operator from 1.7.x to 1.8.x, the old restic pods are not removed. After the upgrade, both restic and node-agent pods are visible in the namespace. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2236829[*BZ#2236829*])

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-11_{context}"]
= {mtc-full} 1.7.11 release notes

[id="resolved-issues-1-7-11_{context}"]
== Resolved issues

There are no major resolved issues in this release.

[id="known-issues-1-7-11_{context}"]
== Known issues

There are no known issues in this release.



:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-10_{context}"]
= {mtc-full} 1.7.10 release notes

[id="resolved-issues-1-7-10_{context}"]
== Resolved issues

This release has the following major resolved issue:

.Adjust rsync options in DVM

In this release, you can prevent absolute symlinks from being manipulated by Rsync in the course of direct volume migration (DVM). Running DVM in privileged mode preserves absolute symlinks inside the persistent volume claims (PVCs). To switch to privileged mode, in the `MigrationController` CR, set the `migration_rsync_privileged` spec to `true`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2204461[*BZ#2204461*])

[id="known-issues-1-7-10_{context}"]
== Known issues

There are no known issues in this release.

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-09_{context}"]
= {mtc-full} 1.7.9 release notes

[id="resolved-issues-1-7-09_{context}"]
== Resolved issues

There are no major resolved issues in this release.


[id="known-issues-1-7-09_{context}"]
== Known issues

This release has the following known issue:

.Adjust rsync options in DVM

In this release, users are unable to prevent absolute symlinks from being manipulated by rsync during direct volume migration (DVM). (link:https://bugzilla.redhat.com/show_bug.cgi?id=2204461[*BZ#2204461*])

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-08_{context}"]
= {mtc-full} 1.7.8 release notes

[id="resolved-issues-1-7-08_{context}"]
== Resolved issues

This release has the following major resolved issues:

.Velero image cannot be overridden in the MTC operator
In previous releases, it was not possible to override the velero image using the `velero_image_fqin` parameter in the `MigrationController` Custom Resource (CR). (link:https://bugzilla.redhat.com/show_bug.cgi?id=2143389[*BZ#2143389*])

.Adding a MigCluster from the UI fails when the domain name has more than six characters
In previous releases, adding a MigCluster from the UI failed when the domain name had more than six characters. The UI code expected a domain name of between two and six characters. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2152149[*BZ#2152149*])

.UI fails to render the Migrations' page: Cannot read properties of undefined (reading 'name')
In previous releases, the UI failed to render the Migrations' page, returning `Cannot read properties of undefined (reading 'name')`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2163485[*BZ#2163485*])

.Creating DPA resource fails on Red Hat OpenShift Container Platform 4.6 clusters
In previous releases, when deploying MTC on an {OCP} 4.6 cluster, the DPA failed to be created according to the logs, which resulted in some pods missing. From the logs in the migration-controller in the OCP 4.6 cluster, it indicated that an unexpected `null` value was passed, which caused the error. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2173742[*BZ#2173742*])

[id="known-issues-1-7-08_{context}"]
== Known issues

There are no known issues in this release.

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-07_{context}"]
= {mtc-full} 1.7.7 release notes

[id="resolved-issues-1-7-07_{context}"]
== Resolved issues

There are no major resolved issues in this release.

[id="known-issues-1-7-07_{context}"]
== Known issues

There are no known issues in this release.


:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-06_{context}"]
= {mtc-full} 1.7.6 release notes

[id="new-features-1-7-6_{context}"]
== New features

.Implement proposed changes for DVM support with PSA in Red Hat OpenShift Container Platform 4.12
With the incoming enforcement of Pod Security Admission (PSA) in {OCP} 4.12 the default pod would run with a `restricted` profile. This `restricted` profile would mean workloads to migrate would be in violation of this policy and no longer work as of now. The following enhancement outlines the changes that would be required to remain compatible with OCP 4.12. (link:https://issues.redhat.com/browse/MIG-1240[*MIG-1240*])

[id="resolved-issues-1-7-06_{context}"]
== Resolved issues

This release has the following major resolved issues:

.Unable to create Storage Class Conversion plan due to missing cronjob error in Red Hat OpenShift Platform 4.12
In previous releases, on the persistent volumes page, an error is thrown that a CronJob is not available in version `batch/v1beta1`, and when clicking on cancel, the migplan is created with status `Not ready`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2143628[*BZ#2143628*])


[id="known-issues-1-7-06_{context}"]
== Known issues

This release has the following known issue:

.Conflict conditions are cleared briefly after they are created
When creating a new state migration plan that will result in a conflict error, that error is cleared shorty after it is displayed. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2144299[*BZ#2144299*])

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-05_{context}"]
= {mtc-full} 1.7.5 release notes

[id="resolved-issues-1-7-05_{context}"]
== Resolved issues

This release has the following major resolved issue:

.Direct Volume Migration is failing as rsync pod on source cluster move into Error state
In previous release, migration succeeded with warnings but Direct Volume Migration failed with rsync pod on source namespace going into error state. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2132978[**BZ#2132978*])


[id="known-issues-1-7-05_{context}"]
== Known issues

This release has the following known issues:

.Velero image cannot be overridden in the MTC operator
In previous releases, it was not possible to override the velero image using the `velero_image_fqin` parameter in the `MigrationController` Custom Resource (CR). (link:https://bugzilla.redhat.com/show_bug.cgi?id=2143389[*BZ#2143389*])

.When editing a MigHook in the UI, the page might fail to reload
The UI might fail to reload when editing a hook if there is a network connection issue. After the network connection is restored, the page will fail to reload until the cache is cleared. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2140208[*BZ#2140208*])

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-04_{context}"]
= {mtc-full} 1.7.4 release notes

[id="resolved-issues-1-7-04_{context}"]
== Resolved issues

There are no major resolved issues in this release.


[id="known-issues-1-7-04_{context}"]
== Known issues

.Rollback missing out deletion of some resources from the target cluster
On performing the roll back of an application from the MTC UI, some resources are not being deleted from the target cluster and the roll back is showing a status as successfully completed. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2126880[*BZ#2126880*])


:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-03_{context}"]
= {mtc-full} 1.7.3 release notes

[id="resolved-issues-1-7-03_{context}"]
== Resolved issues

This release has the following major resolved issues:

.Correct DNS validation for destination namespace
In previous releases, the MigPlan could not  be validated if the destination namespace started with a non-alphabetic character. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2102231[*BZ#2102231*])

.Deselecting all PVCs from UI still results in an attempted PVC transfer
In previous releases, while doing a full migration, unselecting the persistent volume claims (PVCs) would not skip selecting the PVCs and still try to migrate them. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2106073[*BZ#2106073*])

.Incorrect DNS validation for destination namespace
In previous releases, MigPlan could not be validated because the destination namespace started with a non-alphabetic character. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2102231[*BZ#2102231*])

[id="known-issues-1-7-03_{context}"]
== Known issues

There are no known issues in this release.

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-02_{context}"]
= {mtc-full} 1.7.2 release notes

[id="resolved-issues-1-7-02_{context}"]
== Resolved issues

This release has the following major resolved issues:

.MTC UI does not display logs correctly
In previous releases, the MTC UI did not display logs correctly. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2062266[*BZ#2062266*])

.StorageClass conversion plan adding migstorage reference in migplan
In previous releases, StorageClass conversion plans had a `migstorage` reference even though it was not being used. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2078459[*BZ#2078459*])

.Velero pod log missing from downloaded logs
In previous releases, when downloading a compressed (.zip) folder for all logs, the velero pod was missing. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2076599[*BZ#2076599*])

.Velero pod log missing from UI drop down
In previous releases, after a migration was performed, the velero pod log was not included in the logs provided in the dropdown list. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2076593[*BZ#2076593*])

.Rsync options logs not visible in log-reader pod
In previous releases, when trying to set any valid or invalid rsync options in the `migrationcontroller`, the log-reader was not showing any logs regarding the invalid options or about the rsync command being used. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2079252[*BZ#2079252*])

.Default CPU requests on Velero/Restic are too demanding and fail in certain environments
In previous releases, the default CPU requests on Velero/Restic were too demanding and fail in certain environments. Default CPU requests for Velero and Restic Pods are set to 500m. These values were high. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2088022[*BZ#2088022*])




[id="known-issues-1-7-02_{context}"]
== Known issues

This release has the following known issues:

.Updating the replication repository to a different storage provider type is not respected by the UI
After updating the replication repository to a different type and clicking *Update Repository*, it shows connection successful, but the UI is not updated with the correct details. When clicking on the *Edit* button again, it still shows the old replication repository information.

Furthermore, when trying to update the replication repository again, it still shows the old replication details. When selecting the new repository, it also shows all the information you entered previously and the *Update repository* is not enabled, as if there are no changes to be submitted. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2102020[*BZ#2102020*])

.Migrations fails because the backup is not found
Migration fails at the restore stage because of initial backup has not been found. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2104874[*BZ#2104874*])

.Update Cluster button is not enabled when updating Azure resource group
When updating the remote cluster, selecting the *Azure resource group* checkbox, and adding a resource group does not enable the *Update cluster* option. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2098594[*BZ#2098594*])

.Error pop-up in UI on deleting migstorage resource
When creating a `backupStorage` credential secret in {OCP}, if the `migstorage` is removed from the UI, a 404 error is returned and the underlying secret is not removed. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2100828[*BZ#2100828*])

.Miganalytic resource displaying resource count as 0 in UI
After creating a migplan from backend, the Miganalytic resource displays the resource count as `0` in UI. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2102139[*BZ#2102139*])

.Registry validation fails when two trailing slashes are added to the Exposed route host to image registry
After adding two trailing slashes, meaning `//`, to the exposed registry route, the MigCluster resource is showing the status as `connected`. When creating a migplan from backend with DIM, the plans move to the `unready` status. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2104864[*BZ#2104864*])

.Service Account Token not visible while editing source cluster
When editing the source cluster that has been added and is in *Connected* state, in the UI, the service account token is not visible in the field. To save the wizard, you have to fetch the token again and provide details inside the field. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2097668[*BZ#2097668*])


:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7-01_{context}"]
= {mtc-full} 1.7.1 release notes

[id="resolved-issues-1-7-01_{context}"]
== Resolved issues

There are no major resolved issues in this release.

[id="known-issues-1-7-01_{context}"]
== Known issues

This release has the following known issues:

.Incorrect DNS validation for destination namespace
MigPlan cannot be validated because the destination namespace starts with a non-alphabetic character. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2102231[*BZ#2102231*])

.Cloud propagation phase in migration controller is not functioning due to missing labels on Velero pods
The Cloud propagation phase in the migration controller is not functioning due to missing labels on Velero pods. The `EnsureCloudSecretPropagated` phase in the migration controller waits until replication repository secrets are propagated on both sides. As this label is missing on Velero pods, the phase is not functioning as expected. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2088026[*BZ#2088026*])

.Default CPU requests on Velero/Restic are too demanding when making scheduling fail in certain environments
Default CPU requests on Velero/Restic are too demanding when making scheduling fail in certain environments. Default CPU requests for Velero and Restic Pods are set to 500m. These values are high. The resources can be configured in DPA using the `podConfig` field for Velero and Restic. Migration operator should set CPU requests to a lower value, such as 100m, so that Velero and Restic pods can be scheduled in resource constrained environments MTC often operates in. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2088022[*BZ#2088022*])

.Warning is displayed on persistentVolumes page after editing storage class conversion plan
A warning is displayed on the *persistentVolumes* page after editing the storage class conversion plan. When editing the existing migration plan, a warning is displayed on the UI `At least one PVC must be selected for Storage Class Conversion`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2079549[*BZ#2079549*])

.Velero pod log missing from downloaded logs
When downloading a compressed (.zip) folder for all logs, the velero pod is missing. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2076599[*BZ#2076599*])

.Velero pod log missing from UI drop down
After a migration is performed, the velero pod log is not included in the logs provided in the dropdown list. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2076593[*BZ#2076593*])

:leveloffset!:
:leveloffset: +1


// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-7_{context}"]
= {mtc-full} 1.7 release notes

[id="new-features-and-enhancements-1-7_{context}"]
== New features and enhancements

This release has the following new features and enhancements:

* The {mtc-full} ({mtc-short}) Operator now depends upon the OpenShift API for Data Protection (OADP) Operator. When you install the {mtc-short} Operator, the Operator Lifecycle Manager (OLM) automatically installs the OADP Operator in the same namespace.

* You can migrate from a source cluster that is behind a firewall to a cloud-based destination cluster by establishing a network tunnel between the two clusters by using the `crane tunnel-api` command.

* Converting storage classes in the MTC web console: You can convert the storage class of a persistent volume (PV) by migrating it within the same cluster.

[id="known-issues-1-7_{context}"]
== Known issues

This release has the following known issues:

* `MigPlan` custom resource does not display a warning when an AWS gp2 PVC has no available space. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1963927[*BZ#1963927*])
* Direct and indirect data transfers do not work if the destination storage is a PV that is dynamically provisioned by the AWS Elastic File System (EFS). This is due to limitations of the AWS EFS Container Storage Interface (CSI) driver. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2085097[*BZ#2085097*])
* Block storage for IBM Cloud must be in the same availability zone. See the link:https://cloud.ibm.com/docs/vpc?topic=vpc-block-storage-vpc-faq[IBM FAQ for block storage for virtual private cloud].
* MTC 1.7.6 cannot migrate cron jobs from source clusters that support `v1beta1` cron jobs to clusters of {product-title} 4.12 and later, which do not support `v1beta1` cron jobs. (link:https://bugzilla.redhat.com/show_bug.cgi?id=2149119[*BZ#2149119*])

:leveloffset!:
:leveloffset: +1

// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-6_{context}"]
= {mtc-full} 1.6 release notes

[id="new-features-and-enhancements-1-6_{context}"]
== New features and enhancements

This release has the following new features and enhancements:

* State migration: You can perform repeatable, state-only migrations by selecting specific persistent volume claims (PVCs).

* "New operator version available" notification: The Clusters page of the {mtc-short} web console displays a notification when a new {mtc-full} Operator is available.

[id="deprecated-features-1-6_{context}"]
== Deprecated features

The following features are deprecated:

* {mtc-short} version 1.4 is no longer supported.

[id="known-issues-1-6_{context}"]
== Known issues

This release has the following known issues:

* On {product-title} 3.10, the `MigrationController` pod takes too long to restart. The Bugzilla report contains a workaround. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1986796[*BZ#1986796*])
* `Stage` pods fail during direct volume migration from a classic {product-title} source cluster on IBM Cloud. The IBM block storage plugin does not allow the same volume to be mounted on multiple pods of the same node. As a result, the PVCs cannot be mounted on the Rsync pods and on the application pods simultaneously. To resolve this issue, stop the application pods before migration. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1887526[*BZ#1887526*])
* `MigPlan` custom resource does not display a warning when an AWS gp2 PVC has no available space. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1963927[*BZ#1963927*])
* Block storage for IBM Cloud must be in the same availability zone. See the link:https://cloud.ibm.com/docs/vpc?topic=vpc-block-storage-vpc-faq[IBM FAQ for block storage for virtual private cloud].

:leveloffset!:
:leveloffset: +1

// Module included in the following assemblies:
//
// * migration_toolkit_for_containers/mtc-release-notes.adoc
:_mod-docs-content-type: REFERENCE
[id="migration-mtc-release-notes-1-5_{context}"]
= {mtc-full} 1.5 release notes

[id="new-features-and-enhancements-1-5_{context}"]
== New features and enhancements

This release has the following new features and enhancements:

* The *Migration resource* tree on the *Migration details* page of the web console has been enhanced with additional resources, Kubernetes events, and live status information for monitoring and debugging migrations.
* The web console can support hundreds of migration plans.
* A source namespace can be mapped to a different target namespace in a migration plan. Previously, the source namespace was mapped to a target namespace with the same name.
* Hook phases with status information are displayed in the web console during a migration.
* The number of Rsync retry attempts is displayed in the web console during direct volume migration.
* Persistent volume (PV) resizing can be enabled for direct volume migration to ensure that the target cluster does not run out of disk space.
* The threshold that triggers PV resizing is configurable. Previously, PV resizing occurred when the disk usage exceeded 97%.
* Velero has been updated to version 1.6, which provides numerous fixes and enhancements.
* Cached Kubernetes clients can be enabled to provide improved performance.

[id="deprecated-features-1-5_{context}"]
== Deprecated features

The following features are deprecated:

// https://issues.redhat.com/browse/MIG-623
* {mtc-short} versions 1.2 and 1.3 are no longer supported.
* The procedure for updating deprecated APIs has been removed from the troubleshooting section of the documentation because the `oc convert` command is deprecated.

[id="known-issues-1-5_{context}"]
== Known issues

This release has the following known issues:

* Microsoft Azure storage is unavailable if you create more than 400 migration plans. The `MigStorage` custom resource displays the following message: `The request is being throttled as the limit has been reached for operation type`. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1977226[*BZ#1977226*])
* If a migration fails, the migration plan does not retain custom persistent volume (PV) settings for quiesced pods. You must manually roll back the migration, delete the migration plan, and create a new migration plan with your PV settings. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1784899[*BZ#1784899*])
* PV resizing does not work as expected for AWS gp2 storage unless the `pv_resizing_threshold` is 42% or greater. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1973148[*BZ#1973148*])
* PV resizing does not work with {product-title} 3.7 and 3.9 source clusters in the following scenarios:

** The application was installed after MTC was installed.
** An application pod was rescheduled on a different node after MTC was installed.
+
{product-title} 3.7 and 3.9 do not support the Mount Propagation feature that enables Velero to mount PVs automatically in the `Restic` pod. The `MigAnalytic` custom resource (CR) fails to collect PV data from the `Restic` pod and reports the resources as `0`. The `MigPlan` CR displays a status similar to the following:
+
.Example output
[source,yaml]
----
status:
  conditions:
  - category: Warn
    lastTransitionTime: 2021-07-15T04:11:44Z
    message: Failed gathering extended PV usage information for PVs [nginx-logs nginx-html], please see MigAnalytic openshift-migration/ocp-24706-basicvolmig-migplan-1626319591-szwd6 for details
    reason: FailedRunningDf
    status: "True"
    type: ExtendedPVAnalysisFailed
----
+
To enable PV resizing, you can manually restart the Restic daemonset on the source cluster or restart the `Restic` pods on the same nodes as the application. If you do not restart Restic, you can run the direct volume migration without PV resizing. (link:https://bugzilla.redhat.com/show_bug.cgi?id=1982729[*BZ#1982729*])

[id="technical-changes-1-5_{context}"]
== Technical changes

This release has the following technical changes:

* The legacy {mtc-full} Operator version 1.5.1 is installed manually on {product-title} versions 3.7 to 4.5.
* The {mtc-full} Operator version 1.5.1 is installed on {product-title} versions 4.6 and later by using the Operator Lifecycle Manager.

:leveloffset!:

//# includes=_attributes/common-attributes,_attributes/attributes-openshift-dedicated,modules/migration-mtc-release-notes-1-8-1,modules/migration-mtc-release-notes-1-8,modules/migration-mtc-release-notes-1-7-14,modules/migration-mtc-release-notes-1-7-13,modules/migration-mtc-release-notes-1-7-12,modules/migration-mtc-release-notes-1-7-11,modules/migration-mtc-release-notes-1-7-10,modules/migration-mtc-release-notes-1-7-09,modules/migration-mtc-release-notes-1-7-08,modules/migration-mtc-release-notes-1-7-07,modules/migration-mtc-release-notes-1-7-06,modules/migration-mtc-release-notes-1-7-05,modules/migration-mtc-release-notes-1-7-04,modules/migration-mtc-release-notes-1-7-03,modules/migration-mtc-release-notes-1-7-02,modules/migration-mtc-release-notes-1-7-01,modules/migration-mtc-release-notes-1-7,modules/migration-mtc-release-notes-1-6,modules/migration-mtc-release-notes-1-5
