:_mod-docs-content-type: ASSEMBLY
[id="installing-openstack-nfv-preparing"]
= Preparing to install a cluster that uses SR-IOV or OVS-DPDK on OpenStack
include::../includes/common-attributes.adoc[]
:context: installing-openstack-nfv-preparing


Before you install a {product-title} cluster that uses single-root I/O virtualization (SR-IOV) or Open vSwitch with the Data Plane Development Kit (OVS-DPDK) on {rh-openstack-first}, you must understand the requirements for each technology and then perform preparatory tasks.

include::../includes/installation-openstack-nfv-requirements.adoc[leveloffset=+1]
include::../includes/installation-openstack-sr-iov-requirements.adoc[leveloffset=+2]
include::../includes/installation-openstack-ovs-dpdk-requirements.adoc[leveloffset=+2]

[id="installing-openstack-nfv-preparing-tasks-sr-iov"]
== Preparing to install a cluster that uses SR-IOV

You must configure {rh-openstack} before you install a cluster that uses SR-IOV on it.

When installing a cluster using SR-IOV, you must deploy clusters using cgroup v1. For more information, xref:enabling-cgroup-v1[Enabling Linux control group version 1 (cgroup v1)].

include::../includes/installation-osp-configuring-sr-iov.adoc[leveloffset=+2]

[id="installing-openstack-nfv-preparing-tasks-ovs-dpdk"]
== Preparing to install a cluster that uses OVS-DPDK

You must configure {rh-openstack} before you install a cluster that uses SR-IOV on it.

* Complete link:https://access.redhat.com/documentation/en-us/red_hat_openstack_platform/16.2/html/network_functions_virtualization_planning_and_configuration_guide/part-dpdk-configure#p-ovs-dpdk-flavor-deploy-instance[Creating a flavor and deploying an instance for OVS-DPDK] before you install a cluster on {rh-openstack}.

After you perform preinstallation tasks, install your cluster by following the most relevant {product-title} on {rh-openstack} installation instructions. Then, perform the tasks under "Next steps" on this page.

[id="next-steps_installing-openstack-nfv-preparing"]
== Next steps

* For either type of deployment:
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/scalability_and_performance/#what-huge-pages-do_huge-pages[Configure the Node Tuning Operator with huge pages support].
* To complete SR-IOV configuration after you deploy your cluster:
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/networking/#installing-sr-iov-operator_installing-sriov-operator[Install the SR-IOV Operator].
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/networking/#nw-sriov-networknodepolicy-object_configuring-sriov-device[Configure your SR-IOV network device].
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/machine_management/#machineset-yaml-osp-sr-iov_creating-machineset-osp[Create SR-IOV compute machines].
* Consult the following references after you deploy your cluster to improve its performance:
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/networking/#nw-openstack-ovs-dpdk-testpmd-pod_using-dpdk-and-rdma[A test pod template for clusters that use OVS-DPDK on OpenStack].
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/networking/#nw-openstack-sr-iov-testpmd-pod_add-pod[A test pod template for clusters that use SR-IOV on OpenStack].
** link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/scalability_and_performance/#installation-openstack-ovs-dpdk-performance-profile_cnf-create-performance-profiles[A performance profile template for clusters that use OVS-DPDK on OpenStack].
