:_mod-docs-content-type: ASSEMBLY
[id="persistent-storage-using-lvms"]
= Persistent storage using logical volume manager storage
include::../../includes/common-attributes.adoc[]
:context: logical-volume-manager-storage


{lvms-first} uses the TopoLVM CSI driver to dynamically provision local storage on the clusters.

{lvms} creates thin-provisioned volumes using Logical Volume Manager and provides dynamic provisioning of block storage on a limited resources cluster.

//deploying/requirements with RHACM
include::../../includes/deploying-lvms-on-sno-cluster.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html/install/installing#installing-while-connected-online[Red Hat Advanced Cluster Management for Kubernetes: Installing while connected online]

include::../../includes/lvms-installing-logical-volume-manager-operator-using-cli.adoc[leveloffset=+2]

include::../../includes/lvms-installing-logical-volume-manager-operator-using-openshift-web-console.adoc[leveloffset=+2]

include::../../includes/lvms-uninstalling-logical-volume-manager-operator-using-openshift-web-console.adoc[leveloffset=+2]

include::../../includes/lvms-installing-logical-volume-manager-operator-disconnected-environment.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#installing-mirroring-disconnected-about[About disconnected installation mirroring]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#installing-mirroring-creating-registry[Creating a mirror registry with mirror registry for Red Hat OpenShift]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#installation-mirror-repository_installing-mirroring-installation-images[Mirroring the OpenShift Container Platform image repository]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#oc-mirror-creating-image-set-config_installing-mirroring-disconnected[Creating the image set configuration]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#mirroring-image-set[Mirroring an image set to a mirror registry]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/images/#images-configuration-registry-mirror_image-configuration[Configuring image registry repository mirroring]


include::../../includes/lvms-installing-logical-volume-manager-operator-using-rhacm.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html/install/installing#installing-while-connected-online[Red Hat Advanced Cluster Management for Kubernetes: Installing while connected online]

* xref:lvms-reference-file_logical-volume-manager-storage[{lvms} reference YAML file]


include::../../includes/lvms-uninstalling-logical-volume-manager-operator-using-rhacm.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:lvms-reference-file_logical-volume-manager-storage[{lvms} reference YAML file]

include::../../includes/lvms-creating-logical-volume-manager-cluster.adoc[leveloffset=+1]
include::../../includes/lvms-unsupported-devices.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:lvms-integrating-software-raid-arrays_logical-volume-manager-storage[Integrating software RAID arrays with {lvms}]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/nodes/#adding-worker-nodes-to-single-node-openshift-clusters[Adding worker nodes to {sno} clusters]

* xref:lvms-reference-file_logical-volume-manager-storage[{lvms} reference YAML file]

//Integrating software RAID arrays
include::../../includes/lvms-integrating-software-raid-arrays.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/installing/#installation-special-config-raid_installing-customizing[Configuring a RAID-enabled data volume]
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-raid_managing-storage-devices#creating-a-software-raid-on-an-installed-system_managing-raid[Creating a software RAID on an installed system]
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-raid_managing-storage-devices#replacing-a-failed-disk-in-raid_managing-raid[Replacing a failed disk in RAID]
* link:https://access.redhat.com/documentation/en-us/red_hat_enterprise_linux/9/html/managing_storage_devices/managing-raid_managing-storage-devices#repairing-raid-disks_managing-raid[Repairing RAID disks]

//Provisioning
include::../../includes/lvms-provisioning-storage-using-logical-volume-manager-operator.adoc[leveloffset=+1]

//Monitoring
include::../../includes/lvms-monitoring-logical-volume-manager-operator.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html-single/observability/index[Observability]

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html-single/observability/index#adding-custom-metrics[Adding custom metrics]

//Scaling
include::../../includes/lvms-scaling-storage-of-single-node-open-concept.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/nodes/#adding-worker-nodes-to-single-node-openshift-clusters[Adding worker nodes to {sno} clusters]

include::../../includes/lvms-scaling-storage-of-single-node-openshift-cluster.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:lvms-reference-file_logical-volume-manager-storage[{lvms} reference YAML file]

include::../../includes/lvms-scaling-storage-of-single-node-openshift-cluster-using-rhacm.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html/install/installing#installing-while-connected-online[Red Hat Advanced Cluster Management for Kubernetes: Installing while connected online]

* xref:lvms-reference-file_logical-volume-manager-storage[{lvms} reference YAML file]

include::../../includes/lvms-scaling-storage-expand-pvc.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:lvms-scaling-storage-of-single-node-openshift-cluster_logical-volume-manager-storage[Scaling up storage by adding capacity to your cluster]

* xref:lvms-scaling-storage-of-single-node-openshift-cluster-using-rhacm_logical-volume-manager-storage[Scaling up storage by adding capacity to your cluster using {rh-rhacm}]

* xref:add-volume-expansion_expanding-persistent-volumes[Enabling volume expansion support]

//Upgrading
include::../../includes/lvms-upgrading-lvms-on-sno.adoc[leveloffset=+1]

//Volume snapshots
include::../../includes/lvms-volume-snapshots-in-single-node-openshift.adoc[leveloffset=+1]

[NOTE]
====
Before creating volume snapshots, you must be aware of the limitations. For information about the limitations, see xref:lvms-limitations-for-creating-snapshots-and-clones_logical-volume-manager-storage[Limitations for creating volume snapshots and volume clones].
====

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/backup_and_restore/#oadp-features_oadp-features-plugins[OADP features]

include::../../includes/lvms-creating-volume-snapshots-in-single-node-openshift.adoc[leveloffset=+2]
include::../../includes/lvms-restoring-volume-snapshots-in-single-node-openshift.adoc[leveloffset=+2]
include::../../includes/lvms-deleting-volume-snapshots-in-single-node-openshift.adoc[leveloffset=+2]

//Volume cloning
include::../../includes/lvms-volume-clones-in-single-node-openshift.adoc[leveloffset=+1]

[NOTE]
====
Before creating volume clones, you must be aware of the limitations. For information about limitations, see xref:lvms-limitations-for-creating-snapshots-and-clones_logical-volume-manager-storage[Limitations for creating volume snapshots and volume clones].
====

include::../../includes/lvms-creating-volume-clones-in-single-node-openshift.adoc[leveloffset=+2]
include::../../includes/lvms-deleting-cloned-volumes-in-single-node-openshift.adoc[leveloffset=+2]

//Limitations for creating volume snapshots and volume clones
include::../../includes/lvms-limitations-for-creating-snapshots-and-clones.adoc[leveloffset=+1]

//Must-gather
include::../../includes/lvms-download-log-files-and-diagnostics.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/support/#about-must-gather_gathering-cluster-data[About the must-gather tool]

//Reference
include::../../includes/lvms-reference-file.adoc[leveloffset=+1]
