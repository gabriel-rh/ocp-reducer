:_mod-docs-content-type: ASSEMBLY
[id="virt-exposing-custom-metrics-for-vms"]
= Exposing custom metrics for virtual machines
include::../includes/common-attributes.adoc[]
:context: virt-exposing-custom-metrics-for-vms


{product-title} includes a preconfigured, preinstalled, and self-updating monitoring stack that provides monitoring for core platform components. This monitoring stack is based on the Prometheus monitoring system. Prometheus is a time-series database and a rule evaluation engine for metrics.

In addition to using the {product-title} monitoring stack, you can enable monitoring for user-defined projects by using the CLI and query custom metrics that are exposed for virtual machines through the `node-exporter` service.

include::../includes/virt-configuring-node-exporter-service.adoc[leveloffset=+1]
include::../includes/virt-configuring-vm-with-node-exporter-service.adoc[leveloffset=+1]
include::../includes/virt-creating-custom-monitoring-label-for-vms.adoc[leveloffset=+1]
include::../includes/virt-querying-the-node-exporter-service-for-metrics.adoc[leveloffset=+2]
include::../includes/virt-creating-servicemonitor-resource-for-node-exporter.adoc[leveloffset=+1]
include::../includes/virt-accessing-node-exporter-outside-cluster.adoc[leveloffset=+2]

[role="_additional-resources"]
[id="additional-resources_virt-exposing-custom-metrics-for-vms"]
== Additional resources
* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/monitoring/#configuring-the-monitoring-stack[Configuring the monitoring stack]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/monitoring/#enabling-monitoring-for-user-defined-projects[Enabling monitoring for user-defined projects]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/monitoring/#managing-metrics[Managing metrics]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/monitoring/#reviewing-monitoring-dashboards[Reviewing monitoring dashboards]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/building_applications/#application-health[Monitoring application health by using health checks]

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/nodes/#nodes-pods-configmaps[Creating and using config maps]

* xref:virt-controlling-vm-states[Controlling virtual machine states]
