:_mod-docs-content-type: ASSEMBLY
[id="ztp-advanced-policy-config"]
= Advanced managed cluster configuration with PolicyGenTemplate resources
include::../includes/common-attributes.adoc[]
:context: ztp-advanced-policy-config


You can use `PolicyGenTemplate` CRs to deploy custom functionality in your managed clusters.

include::../includes/ztp-deploying-additional-changes-to-clusters.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:ztp-customizing-the-install-extra-manifests_ztp-advanced-install-ztp[Customizing extra installation manifests in the {ztp} pipeline]

include::../includes/ztp-using-pgt-to-update-source-crs.adoc[leveloffset=+1]

include::../includes/ztp-adding-new-content-to-gitops-ztp.adoc[leveloffset=+1]

include::../includes/ztp-configuring-pgt-compliance-eval-timeouts.adoc[leveloffset=+1]

include::../includes/ztp-creating-a-validator-inform-policy.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:ztp-updating-gitops[Upgrading {ztp}]

include::../includes/ztp-using-pgt-to-configure-power-states.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* xref:cnf-understanding-workload-hints_cnf-master[Understanding workload hints]

* xref:configuring-workload-hints_cnf-master[Configuring workload hints manually]

include::../includes/ztp-using-pgt-to-configure-performance-mode.adoc[leveloffset=+2]

include::../includes/ztp-using-pgt-to-configure-high-performance-mode.adoc[leveloffset=+2]

include::../includes/ztp-using-pgt-to-configure-power-saving-mode.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:node-tuning-operator-pod-power-saving-config_cnf-master[Enabling critical workloads for power saving configurations]

* xref:ztp-du-configuring-host-firmware-requirements_sno-configure-for-vdu[Configuring host firmware for low latency and high performance]

* xref:ztp-preparing-the-ztp-git-repository_ztp-preparing-the-hub-cluster[Preparing the {ztp} site configuration repository]

include::../includes/ztp-using-pgt-to-maximize-power-saving-mode.adoc[leveloffset=+2]

include::../includes/ztp-provisioning-lvm-storage.adoc[leveloffset=+1]

[id="ztp-advanced-policy-config-ptp_{context}"]
== Configuring PTP events with PolicyGenTemplate CRs

You can use the {ztp} pipeline to configure PTP events that use HTTP or AMQP transport.

include::../includes/ptp-amq-interconnect-eol.adoc[]

include::../includes/ztp-configuring-ptp-fast-events.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:ztp-using-pgt-to-update-source-crs_ztp-advanced-policy-config[Using PolicyGenTemplate CRs to override source CRs content]

include::../includes/ztp-configuring-ptp-fast-events-amqp.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/networking/#cnf-installing-amq-interconnect-messaging-bus_using-ptp-events[Installing the AMQ messaging bus]
* For more information about container image registries, see link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/registry/#registry-overview[{product-registry} overview].

[id="ztp-advanced-policy-config-bare-metal_{context}"]
== Configuring bare-metal events with PolicyGenTemplate CRs

You can use the {ztp} pipeline to configure bare-metal events that use HTTP or AMQP transport.

include::../includes/ptp-amq-interconnect-eol.adoc[]

include::../includes/ztp-configuring-hwevents-using-pgt.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* xref:nw-rfhe-installing-operator-cli_using-rfhe[Installing the {redfish-operator} using the CLI]

* xref:nw-rfhe-creating-hardware-event_using-rfhe[Creating the bare-metal event and Secret CRs]

include::../includes/ztp-creating-hwevents-amqp.adoc[leveloffset=+2]

include::../includes/ztp-add-local-reg-for-sno-duprofile.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/registry/#registry-overview[{product-title} registry overview].

include::../includes/ztp-configuring-disk-partitioning.adoc[leveloffset=+2]

include::../includes/ztp-configuring-pgt-image-registry.adoc[leveloffset=+2]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/registry/#accessing-the-registry[Accessing the registry]

include::../includes/ztp-using-hub-cluster-templates.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources

* link:https://access.redhat.com/documentation/en-us/red_hat_advanced_cluster_management_for_kubernetes/{rh-rhacm-version}/html-single/governance/index#hub-templates[{rh-rhacm} support for hub cluster templates in configuration policies]

include::../includes/ztp-example-hub-template-functions.adoc[leveloffset=+2]

include::../includes/ztp-specifying-nics-in-pgt-crs-with-hub-cluster-templates.adoc[leveloffset=+2]

include::../includes/ztp-syncing-new-configmap-changes-to-existing-pgt-crs.adoc[leveloffset=+2]
