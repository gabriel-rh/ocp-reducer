:_mod-docs-content-type: ASSEMBLY
[id="overview-of-machine-management"]
= Overview of machine management
include::includes/common-attributes.adoc[]
:context: overview-of-machine-management


You can use machine management to flexibly work with underlying infrastructure such as Amazon Web Services (AWS), Microsoft Azure, Google Cloud Platform (GCP), {rh-openstack-first}, and VMware vSphere to manage the {product-title} cluster.
You can control the cluster and perform auto-scaling, such as scaling up and down the cluster based on specific workload policies.

It is important to have a cluster that adapts to changing workloads. The {product-title} cluster can horizontally scale up and down when the load increases or decreases.

Machine management is implemented as a link:https://access.redhat.com/documentation/en-us/openshift_container_platform/4.14/html-single/operators/#crd-extending-api-with-crds[custom resource definition] (CRD).
A CRD object defines a new unique object `Kind` in the cluster and enables the Kubernetes API server to handle the object's entire lifecycle.

The Machine API Operator provisions the following resources:

* `MachineSet`
* `Machine`
* `ClusterAutoscaler`
* `MachineAutoscaler`
* `MachineHealthCheck`

include::includes/machine-api-overview.adoc[leveloffset=+1]

[role="_additional-resources"]
.Additional resources
* xref:machine-phases-lifecycle[Machine phases and lifecycle]

[id="machine-mgmt-intro-managing-compute_{context}"]
== Managing compute machines

As a cluster administrator, you can perform the following actions:

* Create a compute machine set for the following cloud providers:

** xref:creating-machineset-aws[AWS]

** xref:creating-machineset-azure[Azure]

** xref:creating-machineset-gcp[GCP]

** xref:creating-machineset-osp[{rh-openstack}]

** xref:creating-machineset-vsphere[vSphere]

* Create a machine set for a bare metal deployment: xref:creating-machineset-bare-metal[Creating a compute machine set on bare metal]

* xref:manually-scaling-machineset[Manually scale a compute machine set] by adding or removing a machine from the compute machine set.

* xref:modifying-machineset[Modify a compute machine set] through the `MachineSet` YAML configuration file.

* xref:deleting-machine[Delete] a machine.

* xref:creating-infrastructure-machinesets[Create infrastructure compute machine sets].

* Configure and deploy a xref:deploying-machine-health-checks[machine health check] to automatically fix damaged machines in a machine pool.

[id="machine-mgmt-intro-managing-control-plane_{context}"]
== Managing control plane machines

As a cluster administrator, you can perform the following actions:

* xref:cpmso-feat-config-update_cpmso-using[Update your control plane configuration] with a control plane machine set for the following cloud providers:

** xref:cpmso-sample-yaml-aws_cpmso-configuration[AWS]

** xref:cpmso-sample-yaml-gcp_cpmso-configuration[GCP]

** xref:cpmso-sample-yaml-azure_cpmso-configuration[Azure]

** xref:cpmso-sample-yaml-nutanix_cpmso-configuration[Nutanix]

** xref:cpmso-sample-yaml-vsphere_cpmso-configuration[vSphere]

* Configure and deploy a xref:deploying-machine-health-checks[machine health check] to automatically recover unhealthy control plane machines.

[id="machine-mgmt-intro-autoscaling_{context}"]
== Applying autoscaling to an {product-title} cluster

You can automatically scale your {product-title} cluster to ensure flexibility for changing workloads. To xref:applying-autoscaling[autoscale] your cluster, you must first deploy a cluster autoscaler, and then deploy a machine autoscaler for each compute machine set.

* The xref:cluster-autoscaler-about_applying-autoscaling[_cluster autoscaler_] increases and decreases the size of the cluster based on deployment needs.

* The xref:machine-autoscaler-about_applying-autoscaling[_machine autoscaler_] adjusts the number of machines in the compute machine sets that you deploy in your {product-title} cluster.

[id="machine-mgmt-intro-add-for-upi_{context}"]
== Adding compute machines on user-provisioned infrastructure
User-provisioned infrastructure is an environment where you can deploy infrastructure such as compute, network, and storage resources that host the {product-title}. You can xref:adding-compute-user-infra-general[add compute machines] to a cluster on user-provisioned infrastructure during or after the installation process.

[id="machine-mgmt-intro-add-rhel_{context}"]
== Adding RHEL compute machines to your cluster

As a cluster administrator, you can perform the following actions:

** xref:adding-rhel-compute[Add Red Hat Enterprise Linux (RHEL) compute machines], also known as worker machines, to a user-provisioned infrastructure cluster or an installation-provisioned infrastructure cluster.

** xref:more-rhel-compute[Add more Red Hat Enterprise Linux (RHEL) compute machines] to an existing cluster.
