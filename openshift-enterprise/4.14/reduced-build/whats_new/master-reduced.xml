<?xml version="1.0" encoding="UTF-8"?>
<?asciidoc-toc?>
<?asciidoc-numbered?>
<book xmlns="http://docbook.org/ns/docbook" xmlns:xl="http://www.w3.org/1999/xlink" version="5.0" xml:lang="en">
<info>
<title>What&#8217;s new?</title>
<date>2024-02-13</date>
</info>
<chapter xml:id="new-features">
<title>New features and enhancements</title>

<simpara>This release adds improvements related to the following components and concepts.</simpara>
<simpara>See the <link xl:href="https://github.com/openshift/okd/releases"><emphasis role="strong">Releases</emphasis></link> page in the
<emphasis role="strong">openshift/okd</emphasis> project repository for information on the latest OKD releases.</simpara>
<section xml:id="ocp-operators">
<title>Operators</title>
<simpara><link xl:href="../operators/understanding/olm-what-operators-are.xml#olm-what-operators-are">Operators</link>
are pieces of software that ease the operational complexity of running another
piece of software. They act like an extension of the software vendor&#8217;s
engineering team, watching over a Kubernetes environment (such as
{product-title}) and using its current state to make decisions in real time.
Advanced Operators are designed to handle upgrades seamlessly, react to failures
automatically, and not take shortcuts, like skipping a software backup process
to save time.</simpara>
<section xml:id="ocp-operator-lifecycle-manager">
<title>Operator Lifecycle Manager (OLM)</title>
<simpara>This feature is now fully supported in OpenShift v4.</simpara>
<simpara>The OLM aids cluster administrators in installing, upgrading, and granting
access to Operators running on their cluster:</simpara>
<itemizedlist>
<listitem>
<simpara>Includes a catalog of curated Operators, with the ability to load other Operators into the cluster</simpara>
</listitem>
<listitem>
<simpara>Handles rolling updates of all Operators to new versions</simpara>
</listitem>
<listitem>
<simpara>Supports role-based access control (RBAC) for certain teams to use certain Operators</simpara>
</listitem>
</itemizedlist>
<simpara>See
<link xl:href="../operators/understanding/olm/olm-understanding-olm.xml#olm-understanding-olm">Understanding the Operator Lifecycle Manager (OLM)</link> for more information.</simpara>
</section>
</section>
<section xml:id="ocp-installation-and-upgrade">
<title>Installation and upgrade</title>
<simpara>Red Hat OpenShift v4 has an installer-provisioned infrastructure, where
the installation program controls all areas of the installation process.
Installer-provisioned infrastructure also provides an opinionated best practices
deployment of OpenShift v4 for AWS instances only. This provides a
slimmer default installation, with incremental feature buy-in through
OperatorHub.</simpara>
<simpara>You can also install with a user-provided infrastructure on
AWS, bare metal, or vSphere hosts. If you use the installer-provisioned
infrastructure installation, the cluster provisions and manages all of the
cluster infrastructure for you.</simpara>
<simpara>Upgrading from 3.x to 4 is currently not available. You must perform a new
installation of OpenShift v4.</simpara>
<simpara>Easy, over-the-air upgrades for asynchronous z-stream releases of
OpenShift v4 is available. Cluster administrators can upgrade using the
<emphasis role="strong">Cluster Settings</emphasis> tab in the web console.
See
<link xl:href="../updating/updating_a_cluster/updating-cluster-web-console.xml#updating-cluster-web-console">Updating a cluster</link>
for more information.</simpara>
<section xml:id="ocp-operator-hub">
<title>OperatorHub</title>
<simpara>OperatorHub is available to administrators and helps with easy discovery and
installation of all optional components and applications. It includes offerings
from Red Hat products, Red Hat partners, and the community.</simpara>
<table frame="all" rowsep="1" colsep="1">
<title>Features provided with base installation and OperatorHub</title>
<tgroup cols="3">
<colspec colname="col_1" colwidth="33.3333*"/>
<colspec colname="col_2" colwidth="33.3333*"/>
<colspec colname="col_3" colwidth="33.3334*"/>
<thead>
<row>
<entry align="left" valign="top">Feature</entry>
<entry align="left" valign="top">New installer</entry>
<entry align="left" valign="top">OperatorHub</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Console and authentication</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Prometheus cluster monitoring</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Over-the-air updates</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Machine management</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Optional service brokers</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Optional {product-title} components</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Red Hat product Operators</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Red Hat partner Operators</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Community Operators</simpara></entry>
<entry align="left" valign="top"><simpara>-</simpara></entry>
<entry align="left" valign="top"><simpara>* [x]</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
<simpara>See
<link xl:href="../operators/understanding/olm-understanding-operatorhub.xml#olm-understanding-operatorhub">Understanding the OperatorHub</link> for more information.</simpara>
</section>
</section>
<section xml:id="ocp-storage">
<title>Storage</title>
<simpara>Storage support in OpenShift v4 is the same as OpenShift v3 with
the exception of the following available in Technology Preview: EFS (CSI Driver
handled via Amazon), Manila provisioner/operator, and Snapshot.</simpara>
</section>
<section xml:id="ocp-scale">
<title>Scale</title>
<section xml:id="ocp-scale-cluster-limits">
<title>Cluster maximums</title>
<simpara>Updated guidance around
<link xl:href="../scalability_and_performance/planning-your-environment-according-to-object-maximums.xml#planning-your-environment-according-to-object-maximums">Cluster
maximums</link> for OpenShift v4 is now available.</simpara>
<simpara>Use the <link xl:href="https://access.redhat.com/labs/ocplimitscalculator/">{product-title}
Limit Calculator</link> to estimate cluster limits for your environment.</simpara>
</section>
<section xml:id="ocp-node-tuning-operator">
<title>Node Tuning Operator</title>
<simpara>The
<link xl:href="../scalability_and_performance/using-node-tuning-operator.xml#using-node-tuning-operator">Node
Tuning Operator</link> is now part of a standard {product-title} installation in
OpenShift v4.</simpara>
<simpara>The Node Tuning Operator helps you manage node-level tuning by orchestrating the
tuned daemon. The majority of high-performance applications require some level
of kernel tuning. The Node Tuning Operator provides a unified management
interface to users of node-level sysctls and more flexibility to add custom
tuning, which is currently a Technology Preview feature, specified by user
needs. The Operator manages the containerized tuned daemon for OpenShift
Container Platform as a Kubernetes DaemonSet. It ensures the custom tuning
specification is passed to all containerized tuned daemons running in the
cluster in the format that the daemons understand. The daemons run on all nodes
in the cluster, one per node.</simpara>
</section>
</section>
<section xml:id="ocp-cluster-monitoring">
<title>Cluster monitoring</title>
<section xml:id="ocp-cluster-monitoring-alerting-UI">
<title>New alerting user interface</title>
<simpara>An alerting UI is now natively integrated into the {product-title} web console.
You can now view cluster-level alerts and alerting rules from a single place, as
well as configure silences.</simpara>
</section>
<section xml:id="ocp-cluster-monitoring-telemeter">
<title>Telemeter</title>
<simpara>Telemeter collects anonymized cluster-related metrics to proactively help
customers with their {product-title} clusters. This helps:</simpara>
<itemizedlist>
<listitem>
<simpara>Gather crucial health metrics of {product-title} installations.</simpara>
</listitem>
<listitem>
<simpara>Enable a viable feedback loop of {product-title} upgrades.</simpara>
</listitem>
<listitem>
<simpara>Gather the cluster&#8217;s number of nodes per cluster and their size (CPU cores and
RAM).</simpara>
</listitem>
<listitem>
<simpara>Gather the size of etcd.</simpara>
</listitem>
<listitem>
<simpara>Gather details about the health condition and status for any OpenShift framework
component installed on an OpenShift cluster.</simpara>
</listitem>
</itemizedlist>
</section>
<section xml:id="ocp-cluster-monitoring-autoscale">
<title>Autoscale pods horizontally based on the resource metrics API</title>
<simpara>By default, OpenShift Cluster Monitoring exposes CPU and Memory utilization
through the Kubernetes resource metrics API. There is no longer a requirement to
install a separate metrics server.</simpara>
</section>
</section>
<section xml:id="ocp-developer-experience">
<title>Developer experience</title>
<section xml:id="ocp-multistage-builds">
<title>Multi-stage Dockerfile Builds Generally Available</title>
<simpara>Multi-stage Dockerfiles are now supported in all <literal>Docker</literal> strategy builds.</simpara>
</section>
</section>
<section xml:id="ocp-registry">
<title>Registry</title>
<section xml:id="ocp-registry-managed-by-operator">
<title>The registry is now managed by an Operator</title>
<simpara>The registry is now managed by an Operator instead of <literal>oc adm registry</literal>.</simpara>
</section>
</section>
<section xml:id="ocp-networking">
<title>Networking</title>
<section xml:id="ocp-cno">
<title>Cluster Network Operator (CNO)</title>
<simpara>The cluster network is now configured and managed by an Operator. The Operator
upgrades and monitors the cluster network.</simpara>
</section>
<section xml:id="ocp-openshift-sdn">
<title>OpenShift SDN</title>
<simpara>The default mode is now <literal>NetworkPolicy</literal>.</simpara>
</section>
<section xml:id="ocp-multus">
<title>Multus</title>
<simpara>Multus is a meta plugin for Kubernetes Container Network Interface (CNI), which
enables a user to create multiple network interfaces per pod.</simpara>
</section>
<section xml:id="ocp-sriov">
<title>SR-IOV</title>
<simpara>OpenShift v4 includes the Technical Preview capability to use specific
SR-IOV hardware on {product-title} nodes, which enables the user to
attach SR-IOV virtual function (VF) interfaces to Pods in addition to other
network interfaces.</simpara>
</section>
<section xml:id="ocp-f5">
<title>F5 router plugin support</title>
<simpara>F5 router plugin is no longer supported as part of {product-title} directly.
However, F5 has developed a container connector that replaces the functionality.
It is recommended to work with F5 support to implement their solution.</simpara>
</section>
</section>
<section xml:id="ocp-web-console">
<title>Web console</title>
<section xml:id="ocp-developer-catalog">
<title>Developer Catalog</title>
<simpara>OpenShift v4 features a redesigned Developer Catalog that brings all of
the new Operators and existing broker services together, with new ways to
discover, sort, and understand how to best use each type of offering. The
Developer Catalog is the entry point for a developer to access all services
available to them. It merges all capabilities from Operators, the Service
Catalog, brokers, and Source-to-Image (S2I).</simpara>
</section>
<section xml:id="ocp-new-management-screens">
<title>New management screens</title>
<simpara>New management screens in OpenShift v4 support automated operations.
Examples include the management of machine sets and machines, taints,
tolerations, and cluster settings.</simpara>
</section>
</section>
<section xml:id="ocp-security">
<title>Security</title>
<simpara>In OpenShift v4, Operators are utilized to install, configure, and
manage the various certificate signing servers. Certificates are managed
as secrets stored within the cluster itself.</simpara>
</section>
</chapter>
<chapter xml:id="deprecated-features">
<title>Deprecated features</title>

<simpara>Large changes to the underlying architecture and installation process are
applied in {product-title} v4, and many features from {product-title} v3 are
now deprecated.</simpara>
<section xml:id="deprecated">
<title>Features deprecated in {product-title} v4</title>
<table frame="all" rowsep="1" colsep="1">
<title>Features Deprecated in {product-version}</title>
<tgroup cols="2">
<colspec colname="col_1" colwidth="50*"/>
<colspec colname="col_2" colwidth="50*"/>
<thead>
<row>
<entry align="left" valign="top">Feature</entry>
<entry align="left" valign="top">Justification</entry>
</row>
</thead>
<tbody>
<row>
<entry align="left" valign="top"><simpara>Hawkular</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by cluster monitoring.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Cassandra</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by cluster monitoring.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Heapster</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by Prometheus adapter.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Atomic Host</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by Red Hat Enterprise Linux CoreOS (RHCOS).</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>System containers</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by Red Hat Enterprise Linux CoreOS (RHCOS).</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>projectatomic/docker-1.13</literal> additional search registries</simpara></entry>
<entry align="left" valign="top"><simpara>CRI-O is the default container runtime for {product-title} v4 on Fedora.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm diagnostics</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Operator-based diagnostics.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm registry</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by the Image Registry Operator.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Custom strategy builds using Docker</simpara></entry>
<entry align="left" valign="top"><simpara>If you want to continue using custom builds, you should replace your Docker
invocations with Podman or Buildah. The custom build strategy will not be
removed, but the functionality changed significantly in OpenShift v4.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Cockpit</simpara></entry>
<entry align="left" valign="top"><simpara>Improved OpenShift v4 web console.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Stand-alone registry installations</simpara></entry>
<entry align="left" valign="top"><simpara>Quay is Red Hat&#8217;s container image registry.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>DNSmasq</simpara></entry>
<entry align="left" valign="top"><simpara>CoreDNS is the default.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>External etcd nodes</simpara></entry>
<entry align="left" valign="top"><simpara>etcd is always on the cluster in OpenShift v4.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>CloudForms OpenShift Provider and Podified CloudForms</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by built-in management tooling.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Volume Provisioning via installer</simpara></entry>
<entry align="left" valign="top"><simpara>Replaced by dynamic volumes or, if NFS is required, NFS provisioner.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Blue-green installation method</simpara></entry>
<entry align="left" valign="top"><simpara>Ease of upgrade is a core value of OpenShift v4.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>OpenShift Service Broker and Service Catalog</simpara></entry>
<entry align="left" valign="top"><simpara>The Service Catalog and the OpenShift service brokers are being replaced over
the course of several future OpenShift v4 releases. Reference the Operator
Framework and Operator Lifecycle Manager (OLM) to continue providing your
applications to OpenShift v4 clusters. These new technologies provide many
benefits around complete management of the lifecycle of your application.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm ca</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Certificates are managed by Operators internally.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm create-api-client-config</literal></simpara></entry>
<entry align="left" valign="middle" morerows="1"><simpara>Functions are managed by Operators internally.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm create-bootstrap-policy-file</literal></simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara><literal>oc adm policy reconcile-sccs</literal></simpara></entry>
<entry align="left" valign="top"><simpara>Functions are managed by <literal>openshift-apiserver</literal> internally.</simpara></entry>
</row>
<row>
<entry align="left" valign="top"><simpara>Web console</simpara></entry>
<entry align="left" valign="top"><simpara>The web console from OpenShift v3 has been replaced by a new web
console in OpenShift v4.</simpara></entry>
</row>
</tbody>
</tgroup>
</table>
</section>
</chapter>
</book>